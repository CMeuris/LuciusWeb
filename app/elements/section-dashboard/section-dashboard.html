<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../app-loader/app-loader.html">
<link rel="import" href="../graph-base/graph-base.html">
<link rel="import" href="../graph-histogram/graph-histogram.html">
<link rel="import" href="../graph-similarity-binning/graph-similarity-binning.html">
<link rel="import" href="../list-compound/list-compound.html">

<polymer-element
  name="section-dashboard"
  on-section-active="{{handleActive}}"
  fit>

  <template id="main">
    <link rel="stylesheet" href="section-dashboard.css">

    <div class="graph box" layout horizontal>
      <graph-similarity-binning
        bindata="{{bindata}}"
        brushdata="{{brushdata}}" brushable
        flex six></graph-similarity-binning>
      <graph-histogram
        flex two></graph-histogram>
    </div>

    <div class="genes box">
      <graph-word-hist
        bindata="{{bindata}}"  
        brushdata="{{brushdata}}"></graph-word-hist>
    </div>

    <div class="comps">
      <list-compound
        brushdata="{{brushdata}}"></list-compound>
    </div>

    <app-loader></app-loader>

  </template>

  <script>
    (function() {
      Polymer({

        ready: function() {

        },

        handleActive: function(e) {
          var items = this.shadowRoot.querySelectorAll('[graph]');
          for (var i = items.length - 1; i >= 0; i--) {
            items[i].fire('graph-active', e.detail);
          }
        }
      });
    })();
</script>
</polymer-element>
